/* 
    Autor: Brian Marquez
    Fecha de Creación: 22-09-2024 
    Fecha de Ultima Modificación: 22-09-2024 
    Descripción: creacion de modelo logico
    Resumen de cambios:
*/ 

// tabla de Paises
Table tblPaises {
  cNombrepais_id varchar
  cZonahoraria timestamp 
  tModifi datetime
  cUser varchar
  cEstado varchar
}

// tabla de Departamentos
Table tblDepartamentos {
  departamento_id integer [primary key]
  cNombreDepartamento varchar
  tModifi varchar
  cUser varchar
  cEstado varchar
}

Ref: tblPaises.cNombrepais_id < tblDepartamentos.departamento_id // many-to-one


// Tabla de Provincias
Table tblProvincias {
  provincias_id integer [primary key]
  cNombreProvincia varchar
  tModifi datetime
  cUser varchar
  cEstado varchar
}

Ref: tblProvincias.provincias_id < tblDepartamentos.departamento_id // many-to-one

// Tabla de distritos 
Table tblDistrito{
  distrito_id integer [primary key]
  cNombreDistrito varchar
  tModifi datetime
  cUser varchar
  cEstado varchar
}

Ref: tblDistrito.distrito_id < tblProvincias.provincias_id // many-to-one
ref: tblDistrito.distrito_id < tblUsuarios.usuarios_id

// Tabla de los usuarios ( Alumnos - Profesores)
Table tblUsuarios{
  usuarios_id integer [primary key]
  cCodUsu chat(4)
  cNomUsu varchar(80)
  cClave char(128)
  cEstado varchar
  cNivUsu char(1)
  tModifi datetime
  cMail varchar
  cUser varchar
  cCodOfi varchar(2)
  cRol varchar
  cIdeUsu varchar(32)
}

// Tabla Estudiantes
Table tblEstudiantes{
  estudiantes_id integer [primary key]
  cEstado varchar
  tModifi datetime
  cMail varchar
  cUser varchar
  cCodOfi varchar(2)
}


// Tabla Profesores
Table tblProfesores{
  profesores_id integer [primary key]
  cEstado varchar
  tModifi datetime
  cMail varchar
  cUser varchar
  cCodOfi varchar(2)
}


// tabla de los Calificaciones
Table tblCalificaciones{
  calificaciones_id integer [primary key]
  evaluaciones_id varchar
  estudiantes_id varchar
  cNota varchar
  tModifi datetime
}


Ref: tblCalificaciones.evaluaciones_id >  tblEvaluaciones.evaluaciones_id
Ref: tblCalificaciones.estudiantes_id  >  tblUsuarios.usuarios_id



// tabla de los Inscripciones
Table tblInscripciones{
  inscripciones_id integer [primary key]
  usuario_id varchar
  curso_id varchar
  tModifi datetime
  cUser varchar
  cEstado varchar
}

//Ref: tblInscripciones.usuario_id > tblUsuarios.usuarios_id // many-to-one

// tabla de Evaluaciones
Table tblEvaluaciones{
  evaluaciones_id integer [primary key]
  curso_id int
  ctipEval varchar
  tModifi varchar
}

Ref: tblEvaluaciones.curso_id > tblCursos.cursos_id 

// tabla de los cursos
Table tblCursos{
  cursos_id integer [primary key]
  cnombreCurso varchar
  cDescri varchar
  tModifi datetime
  cUser varchar
  cEstado varchar
}


// tabla de Modulos
Table tblModulos{
  modulos_id integer [primary key]
  curso_id varchar
  cTitulo varchar
  cDescri varchar
  tModifi datetime
}

Ref: tblModulos.curso_id > tblCursos.cursos_id // many-to-one


// tabla de Materiales (videos)
Table tblMateriales{
  materiales_id integer [primary key]
  modulo_id int
  ctipoMaterial nvarchar
  urls nvarchar
  tmodifi datetime
}

Ref: tblMateriales.modulo_id> tblModulos.modulos_id 

// Tabla log del sistema
Table sysdlog {
cMsgErr text
cCodofi char(2)
cCodusu char(4)
tModifi datetime
nCodLog int [primary key] 
}

// Tabla Oficinas
Table systOfi {
cCodOfi char(2) [primary key]
nNomOfi char(35)
cDirOfi varchar
tModifi datetime
dFecApe datetime
}

// Tabla nombre de tablas
Table systTab {
  cCodObj char(3) [primary key]
  cTabNom char(10)
  cTabDes char(45)
  cCodUsu char(4)
  tModifi datetime
}

// Tabla nombre de codigo, definiciones
Table systCod {
  cCodTab char(3)
  cOrden char(3)
  cTblFld char(25)
  cTipReg char(1)
  cCodigo char(8)
  cDescri char(70)
  cCodUsu char(4)
  tModifi datetime
}

// Log de usuario
Table usudlog {
  usudlog_id int 
  cDescri char(70)
  cCodUsu char(4)
  tModifi datetime
  nCodLog int [primary key]
}


Ref: "tblUsuarios"."usuarios_id" < "usudlog"."usudlog_id"

Ref: "tblUsuarios"."usuarios_id" < "tblProfesores"."profesores_id"

Ref: "tblUsuarios"."usuarios_id" < "tblEstudiantes"."estudiantes_id"



Ref: "tblProfesores"."profesores_id" < "tblInscripciones"."inscripciones_id"

Ref: "tblInscripciones"."inscripciones_id" < "tblCursos"."cursos_id"

Ref: "tblModulos"."modulos_id" < "tblEvaluaciones"."evaluaciones_id"